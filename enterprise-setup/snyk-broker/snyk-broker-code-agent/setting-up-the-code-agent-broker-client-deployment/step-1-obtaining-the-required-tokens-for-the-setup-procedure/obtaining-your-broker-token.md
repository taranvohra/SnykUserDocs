# Obtaining your Broker token

A Broker token is required for the [Broker Client component setup](../step-5-setting-up-the-broker-client/step-5.2a-running-the-broker-client-without-the-code-snippet-display.md), and it is used in the `-e BROKER_TOKEN` parameter. The Broker token is associated with a specific Organization by default and with a specific integrated SCM, and for these it enables the Snyk Broker deployment method. For each integrated SCM, a different Broker token is required.

* **Using an existing Broker token for the Code Agent setup** - if you already have a Broker token, which you used for running the Broker Client for another Snyk product in the same Organization and the same SCM, you can also use it for the setup of the Broker Client for the Code Agent.
* **Using the same Broker token for multiple Snyk Organizations** -\
  Although by default a Broker token is associated with only one Snyk Organization, by performing the following procedures you can use the same Broker token for multiple Organizations. To perform these procedures, you need Organizations Admin permissions:
  * **A new Organization** - if you create a new Organization based on an existing Organization that has a Broker token, the existing Broker token is cloned during creation of the new Organization, and you can use it for the new Organization as well.
  * **An existing Organization** â€“ if you want to use an existing Broker token for other existing Organizations, you can use the [Clone an integration](https://snyk.docs.apiary.io/#reference/integrations/integration-cloning/clone-an-integration-\(with-settings-and-credentials\)) API v1 endpoint. This API clones existing Integration Settings, including the Broker token of the Integration.
* **Using a Broker token for redundancy** - if you set up two Broker Clients for the same Organization and the same SCM for redundancy purposes, you must use the same Broker token for both Broker Clients.You can obtain the Snyk Broker token in the following ways:
  * Recommended: ask your Snyk IC/TSM to generate a Broker token for you, and then to obtain it from the Web UI.
  * Generate the Broker token using Snyk APIs (see the instructions that follow).

After a Broker token is generated by either method, the token is displayed on the Web UI, and you can [obtain it from there](obtaining-your-broker-token.md#obtaining-your-broker-token-via-the-web-ui).

## **Generating your Broker token via APIs**

You can generate the Broker token by using APIs as follows.

1\. Use the [Update Existing Integration](https://snyk.docs.apiary.io/#reference/integrations/integration/update-existing-integration) API v1 endpoint, which enables the Snyk Broker for a specific Organization and a specific SCM. This generates a Broker token in the UI.

2\. To generate a Broker token programmatically, after enabling Snyk Broker in step 1, use the [Provision new Broker token](https://snyk.docs.apiary.io/#reference/integrations/integration-broker-token-provisioning/provision-new-broker-token) API v1 endpoint, which generates a Broker token.

You can see the generated Broker token in the API response body and on the Web UI.

3\. Copy and save the Broker token in a secure location for future use, or obtain it later via the Web UI.

## **Obtaining your Broker token via the Web UI**

Your Broker token is displayed on the Web UI after your Snyk IC/TSM generated it for you or you generated it using Snyk APIs. The Broker token is associated with a specific Organization and a specific Integration.

1\. Open the Snyk Web UI and in the left navigation, select the Organization for which you want to set up the Snyk Broker.

2\. In the selected Organization, select **Integration** from the left navigation. Find the Integration to which you want to connect Snyk Broker, and click the **Settings** icon.

<figure><img src="../../../../../.gitbook/assets/Snyk Broker - Organization - Integrations page.png" alt="Select Settings for an Integration"><figcaption><p>Select Settings for an Integration</p></figcaption></figure>

3\. On the **Settings** page of the selected Integration, in the **Broker Credentials** section, copy the Broker token from the **Token** box and save it for future use:

<figure><img src="../../../../../.gitbook/assets/Snyk Broker - Broker Token - box.png" alt="Copy the Broker token"><figcaption><p>Copy the Broker token</p></figcaption></figure>
